{##
 # Gallery widget
 #}

<div class="product-image-gallery{{ this.getCSSClasses() }}"{% if this.isVisibleAsHidden() %} style="display:none;"{% endif %}>
  {% if this.isInSliderMode() %}
    <div class="product-image-gallery-navigation" id='product-image-gallery-prev-mobile'></div>
  {% endif %}
  <div class="slides">

    <ul
        {% if this.isInSliderMode() %}
          class="cycle-cloak cycle-slideshow"
          data-cycle-fx=carousel
          data-cycle-timeout=0
          data-cycle-manual-speed="300"
          data-cycle-carousel-vertical=false
          data-cycle-carousel-visible={{ this.getMinCountForSlider() }}
          data-cycle-next="#product-image-gallery-next-mobile"
          data-cycle-prev="#product-image-gallery-prev-mobile"
          data-cycle-slides="> li"
          data-cycle-log=false
          data-cycle-allow-wrap=false
          data-cycle-auto-height=false
        {% endif %}
    >
      {% for i, image in this.product.getPublicImages() %}
        <li {{ this.printTagAttributes(this.getListItemClassAttribute(i, image))|raw }}>
          <a href="{{ image.getFrontURL() }}" rel="lightbox" rev="width: {{ image.getWidth() }}, height: {{ image.getHeight() }}" title="{{ image.getAlt() }}">{{ widget('\\XLite\\View\\Image', image=image, alt=this.getAlt(image, i), imageSizeType='MSThumbnail') }}</a>
          {{ widget('\\XLite\\View\\Image', className='middle', style='display: none;', image=image, maxWidth=this.getWidgetMaxWidth(), maxHeight=this.getWidgetMaxHeight(), alt=this.getAlt(image, i)) }}
        </li>
      {% endfor %}
    </ul>
  </div>

  {% if this.isInSliderMode() %}
    <div class="product-image-gallery-navigation" id='product-image-gallery-next-mobile'></div>
  {% endif %}
</div>

<script type="text/javascript">
var lightBoxImagesDir = '{{ this.getLightBoxImagesDir() }}';
</script>
